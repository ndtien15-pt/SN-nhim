<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>G·ª≠i Nh√≠m - M·ªôt ng∆∞·ªùi ƒë·∫∑c bi·ªát</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600&family=Quicksand:wght@400;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-pink: #ff4d6d;
            --soft-pink: #ffc2d1;
            --bg-pink: #fff0f3;
        }

        * { box-sizing: border-box; }

        body { 
            background: var(--bg-pink); 
            margin: 0; 
            font-family: 'Quicksand', sans-serif; 
            overflow: hidden;
            height: 100vh;
            width: 100vw;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* Intro */
        #intro {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: var(--soft-pink);
            display: flex; justify-content: center; align-items: center;
            z-index: 9999; transition: opacity 1s ease; text-align: center;
        }
        .intro-content { color: white; padding: 20px; }
        .typing {
            font-family: 'Dancing Script', cursive; font-size: 2.5rem;
            width: 0; white-space: nowrap; overflow: hidden;
            border-right: 3px solid; margin: 0 auto;
            animation: typing 3s steps(30, end) forwards;
        }
        @keyframes typing { from { width: 0; } to { width: 100%; } }
        
        #start-btn {
            margin-top: 30px; padding: 15px 40px; font-size: 1.2rem;
            background: white; color: var(--primary-pink); border: none;
            border-radius: 50px; cursor: pointer; font-weight: bold;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }

        /* Gallery - CƒÉn gi·ªØa tuy·ªát ƒë·ªëi */
        #gallery-section {
            display: none; 
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            z-index: 5;
            cursor: pointer;
        }

        .photo-wrapper {
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%); /* Lu√¥n ·ªü gi·ªØa m√†n h√¨nh */
            width: 90%;
            max-width: 320px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .polaroid {
            background: white; 
            padding: 10px 10px 45px 10px;
            box-shadow: 0 15px 45px rgba(255, 77, 109, 0.2);
            border-radius: 5px; 
            width: 100%;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .polaroid img {
            width: 100%;
            height: 350px; 
            object-fit: cover;
            border-radius: 2px;
            pointer-events: none;
        }

        .polaroid .caption {
            font-family: 'Dancing Script', cursive;
            margin-top: 15px; font-size: 1.5rem; color: #444;
            text-align: center;
        }

        .counter {
            margin-top: 25px;
            color: var(--primary-pink);
            font-weight: bold;
            background: white;
            padding: 5px 20px;
            border-radius: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }

        /* L·ªùi nh·∫Øn cu·ªëi */
        #letter-section {
            display: none; 
            position: fixed;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            width: 90%; max-width: 450px;
            z-index: 10;
        }

        .letter-paper {
            background: white; padding: 35px; border-radius: 15px;
            box-shadow: 0 15px 50px rgba(0,0,0,0.1); line-height: 1.8;
            border: 1px solid #ffeef2;
        }
        .letter-paper h2 { font-family: 'Dancing Script'; color: var(--primary-pink); margin-top: 0; }

        /* Lung linh h∆°n */
        .heart { position: fixed; top: -10%; color: var(--primary-pink); z-index: 1; animation: fall linear forwards; }
        .sparkle { position: fixed; background: white; border-radius: 50%; animation: blink 2s infinite; z-index: 1; }
        @keyframes fall { to { transform: translateY(110vh) rotate(360deg); } }
        @keyframes blink { 0%, 100% { opacity: 0; } 50% { opacity: 0.8; } }

        .hint { 
            position: absolute; top: 10%; width: 100%; text-align: center;
            color: var(--primary-pink); font-size: 0.9rem; font-weight: 600;
            animation: pulse 2s infinite; 
        }
        @keyframes pulse { 0%, 100% { opacity: 0.5; } 50% { opacity: 1; } }

        /* N√∫t Loa b√°o hi·ªáu nh·∫°c */
        #music-status {
            position: fixed; top: 20px; right: 20px;
            background: rgba(255,255,255,0.8);
            padding: 8px; border-radius: 50%;
            z-index: 1000; display: none;
        }
    </style>
</head>
<body>

    <div id="music-status">üéµ</div>

    <div id="intro">
        <div class="intro-content">
            <h2 class="typing">G·ª≠i Nh√≠m - M√≥n qu√† b√≠ m·∫≠t...</h2>
            <button id="start-btn">M·ªü ra ngay ‚ù§Ô∏è</button>
        </div>
    </div>

    <div style="position: absolute; left: -9999px; visibility: hidden;">
        <div id="player"></div>
    </div>

    <div id="gallery-section">
        <div class="hint">Ch·∫°m v√†o m√†n h√¨nh ƒë·ªÉ l·∫≠t k·ª∑ ni·ªám ti·∫øp theo...</div>
        <div class="photo-wrapper">
            <div id="photo-content" class="polaroid"></div>
            <div class="counter"><span id="current-num">1</span> / 32</div>
        </div>
    </div>

    <div id="letter-section">
        <div class="letter-paper">
            <h2>G·ª≠i Nh√≠m,</h2>
            <p>
                C·∫£m ∆°n em ƒë√£ c√πng anh ƒëi qua 32 kho·∫£nh kh·∫Øc n√†y. T·ª´ng t·∫•m ·∫£nh ƒë·ªÅu l√† nh·ªØng m·∫£nh gh√©p h·∫°nh ph√∫c m√† anh mu·ªën l∆∞u gi·ªØ m√£i m√£i. 
                Ch√∫c m·ª´ng sinh nh·∫≠t c√¥ g√°i tuy·ªát v·ªùi nh·∫•t! Y√™u em r·∫•t nhi·ªÅu ‚ù§Ô∏è
            </p>
            <p style="text-align: right; font-family: 'Dancing Script'; font-size: 1.8rem; color: var(--primary-pink); margin-bottom: 0;">Ti·∫øn</p>
        </div>
    </div>

    <script src="https://www.youtube.com/iframe_api"></script>
    <script>
        let player;
        function onYouTubeIframeAPIReady() {
            player = new YT.Player('player', {
                height: '0', width: '0',
                videoId: '0_fK-oK8N9s', // ID b√†i AMEE
                playerVars: { 'autoplay': 0, 'controls': 0, 'rel': 0 },
                events: { 'onReady': onPlayerReady }
            });
        }
        function onPlayerReady(event) { console.log("Music Ready"); }

        const startBtn = document.getElementById('start-btn');
        const intro = document.getElementById('intro');
        const gallerySection = document.getElementById('gallery-section');
        const letterSection = document.getElementById('letter-section');
        const photoContent = document.getElementById('photo-content');
        const currentNumDisplay = document.getElementById('current-num');
        const musicStatus = document.getElementById('music-status');

        let currentIndex = 1;
        const totalPhotos = 32;

        startBtn.addEventListener('click', () => {
            intro.style.opacity = '0';
            // Ph√°t nh·∫°c ngay khi click n√∫t Start
            if (player && player.playVideo) {
                player.playVideo();
                musicStatus.style.display = 'block';
            }
            
            setTimeout(() => {
                intro.style.display = 'none';
                gallerySection.style.display = 'block';
                showPhoto(currentIndex);
            }, 1000);
        });

        function showPhoto(index) {
            // Hi·ªáu ·ª©ng l·∫≠t ·∫£nh lung linh
            photoContent.style.opacity = '0';
            photoContent.style.transform = 'scale(0.8) rotate(-5deg)';
            
            setTimeout(() => {
                photoContent.innerHTML = `
                    <img src="img/${index}.jpg" onerror="this.src='https://via.placeholder.com/300x350?text=Memory+${index}'">
                    <div class="caption">Memory #${index}</div>
                `;
                photoContent.style.opacity = '1';
                photoContent.style.transform = `scale(1) rotate(${Math.random() * 6 - 3}deg)`;
            }, 200);
        }

        gallerySection.addEventListener('click', () => {
            if (currentIndex < totalPhotos) {
                currentIndex++;
                currentNumDisplay.innerText = currentIndex;
                showPhoto(currentIndex);
            } else {
                gallerySection.style.display = 'none';
                letterSection.style.display = 'block';
            }
        });

        // H·∫°t l·∫•p l√°nh v√† Tim bay
        function createEffect() {
            const heart = document.createElement('div');
            heart.classList.add('heart');
            heart.innerHTML = '‚ù§Ô∏è';
            heart.style.left = Math.random() * 100 + 'vw';
            heart.style.fontSize = Math.random() * 15 + 10 + 'px';
            heart.style.animationDuration = Math.random() * 3 + 2 + 's';
            document.body.appendChild(heart);
            setTimeout(() => heart.remove(), 5000);

            const sparkle = document.createElement('div');
            sparkle.classList.add('sparkle');
            const size = Math.random() * 4 + 2 + 'px';
            sparkle.style.width = size; sparkle.style.height = size;
            sparkle.style.left = Math.random() * 100 + 'vw';
            sparkle.style.top = Math.random() * 100 + 'vh';
            document.body.appendChild(sparkle);
            setTimeout(() => sparkle.remove(), 2000);
        }
        setInterval(createEffect, 200);
    </script>
</body>
</html>